#!/usr/bin/env bash

export FZF_DEFAULT_OPTS='
  --height="100%"
  --layout=reverse
  --margin=0
  --padding=0
  --color=fg:#f8f8f2,bg:#282a36,hl:#bd93f9
  --color=fg+:#f8f8f2,bg+:#44475a,hl+:#bd93f9
  --color=info:#ffb86c,prompt:#50fa7b,pointer:#ff79c6
  --color=marker:#ff79c6,spinner:#ffb86c,header:#6272a4
'

FOOT_OPTIONS=''

if [[ -z "$1" ]]
then
  FZF_DEFAULT_OPTS="--prompt='ÔÇ§  '${FZF_DEFAULT_OPTS}"
  COMMAND=~/bin/launcher-run
elif [[ "$1" == "bookmarks" ]]
then
  FZF_DEFAULT_OPTS="--prompt='ÔÄÆ '${FZF_DEFAULT_OPTS}"
  COMMAND=~/bin/launcher-bookmarks
  FOOT_OPTIONS="-W 120x40 ${FOOT_OPTIONS}"
elif [[ "$1" == "clipboard" ]]
then
  FZF_DEFAULT_OPTS="--prompt='üìã ' --algo=v1 --bind 'tab:up' ${FZF_DEFAULT_OPTS}"
  COMMAND=~/bin/launcher-clipboard
elif [[ "$1" == "gopass" ]]
then
  FZF_DEFAULT_OPTS="--prompt='üîë ' --algo=v1 --bind 'tab:up' ${FZF_DEFAULT_OPTS}"
  COMMAND=~/bin/launcher-gopass
elif [[ "$1" == "snippets" ]]
then
  FZF_DEFAULT_OPTS="--prompt='üìã'${FZF_DEFAULT_OPTS}"
  COMMAND=~/bin/launcher-snippets
elif [[ "$1" == "qutebrowser" ]]
then
  FZF_DEFAULT_OPTS="--prompt='üåê'${FZF_DEFAULT_OPTS}"
  FOOT_OPTIONS="-W 250x40 ${FOOT_OPTIONS}"
  COMMAND=~/bin/launcher-qutebrowser
else
  exec foot --app-id launcher --config ~/.config/foot/foot-launcher.ini ~/bin/launcher-run
fi;

exec foot --app-id launcher ${FOOT_OPTIONS} --config ~/.config/foot/foot-launcher.ini "$COMMAND"
